-- Configuración global
getgenv().Settings = {
    Speed = 12,
    Active = true,
    Height = 100,
    Skill = "Explosive Swipe",
    Delay = 0.3,
    Webhook = ""
}

-- Servicios
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

-- Variables locales
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local rootPart = character:WaitForChild("HumanoidRootPart")

-- Obtener configuración del main.lua
local speed = getgenv().Settings.Speed
local webhook = getgenv().Settings.Webhook

-- Función mejorada para enviar al webhook
local function sendWebhook(message)
    if webhook and webhook ~= "" then
        local data = {
            username = "Ousi.HUB",
            avatar_url = "https://i.imgur.com/AfFp7pu.png",
            embeds = {
                {
                    title = "GYAT",
                    description = message,
                    color = 0x00ff00,
                    fields = {
                        {
                            name = "🕒 Hora",
                            value = os.date("%H:%M:%S"),
                            inline = true
                        },
                        {
                            name = "📅 Fecha",
                            value = os.date("%d/%m/%Y"),
                            inline = true
                        }
                    },
                    footer = {
                        text = "Wave Webhook System",
                        icon_url = "https://i.imgur.com/AfFp7pu.png"
                    },
                    timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
                }
            }
        }

        local success, response = pcall(function()
            return request({
                Url = webhook,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = game:GetService("HttpService"):JSONEncode(data)
            })
        end)

        if success then
            if response.StatusCode == 204 then
                print("Webhook enviado exitosamente (204 No Content)")
                return true
            else
                print("Webhook enviado con código de estado:", response.StatusCode)
                return true
            end
        else
            warn("Error al enviar webhook:", response)
            return false
        end
    end
end

-- Enviar webhook inicial
print("Enviando webhook inicial...")
sendWebhook("🟢 Script GPO iniciado - Velocidad: " .. speed)

-- Resto del código del rewrite...
